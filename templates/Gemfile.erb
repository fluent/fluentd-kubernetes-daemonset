<% fluentd_ver = version.split("-").first[1..-1] %>
<% target = (dockerfile.split("/").last.split("-").last) %>
<% is_alpine = (dockerfile.split("/").last.split("-").first == "alpine") %>
# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/Gemfile.erb

source "https://rubygems.org"

gem "fluentd", "<%= fluentd_ver %>"
gem "fluent-plugin-secure-forward"
gem "fluent-plugin-record-reformer"
<% case target when "elasticsearch"%>
gem "fluent-plugin-elasticsearch"
<% when "logentries"%>
#gem "fluent-plugin-logentries"
<% when "loggly"%>
gem "fluent-plugin-loggly"
<% when "cloudwatch"%>
gem "aws-sdk-core", "2.10.50"
gem "fluent-plugin-cloudwatch-logs", "0.5.0"
<% when "stackdriver" %>
gem "fluent-plugin-google-cloud"
<% when "s3" %>
gem "fluent-plugin-s3", "~>0.8"
<% when "gcs" %>
gem "fluent-plugin-gcs", "~>0.3"
<% when "graylog" %>
gem "gelf", git: "https://github.com/graylog-labs/gelf-rb.git"
gem "fluent-plugin-gelf-hs"
<% when "logzio" %>
gem "fluent-plugin-logzio"
<% when "papertrail" %>
gem "fluent-plugin-papertrail"
<% when "syslog" %>
gem "fluent-plugin-kubernetes_remote_syslog", git: "https://github.com/georgegoh/fluent-plugin-kubernetes_remote_syslog.git"
<% when "kafka" %>
gem "fluent-plugin-kafka"
<% end %>
gem "fluent-plugin-kubernetes_metadata_filter"
<% if !is_alpine %>
gem "ffi"
gem "fluent-plugin-systemd"
<% end %>
